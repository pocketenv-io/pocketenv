amends "../../schema/lexicon.pkl"

lexicon = 1
id = "io.pocketenv.file.defs"
defs = new Mapping<String, ObjectType | StringType | Array> {
   ["file"] = new ObjectType {
    type = "object"
    required = List("path", "content")
    properties {
      ["path"] = new StringType {
        type = "string"
        description = "The file path within the sandbox, e.g. '/app/config.json', '/home/user/.ssh/id_rsa', etc."
      }
      ["content"] = new StringType {
        type = "string"
        description =
          "The content of the file. This will be written to the specified path within the sandbox. The content should be base64 encoded if it's binary data."
      }
    }
  }
  ["files"] = new Array {
    type = "array"
    items = new Ref {
      type = "ref"
      ref = "io.pocketenv.file.defs#file"
      description = "A file to add to the sandbox"
    }
  }
}