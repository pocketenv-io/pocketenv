amends "../../schema/lexicon.pkl"

lexicon = 1
id = "io.pocketenv.secret.defs"
defs = new Mapping<String, ObjectType | StringType | Array> {
   ["secret"] = new ObjectType {
    type = "object"
    required = List("name", "value")
    properties {
      ["name"] = new StringType {
        type = "string"
        description = "Name of the secret, e.g. 'DATABASE_URL', 'SSH_KEY', etc."
      }
      ["value"] = new StringType {
        type = "string"
        description =
          "Value of the secret. This will be encrypted at rest and redacted in any API responses."
      }
    }
  }
  ["secrets"] = new Array {
    type = "array"
    items = new Ref {
      type = "ref"
      ref = "io.pocketenv.secret.defs#secret"
      description = "A secret to add to the sandbox"
    }
  }
}